{"version":3,"sources":["../../src/controllers/post.controller.ts"],"sourcesContent":["import { NextFunction, Request, Response } from 'express';\nimport postService from '@/services/post.service';\n\nclass postController {\n  public postService = new postService();\n\n  public getPopularPosts = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n    try {\n      const categoryId = String(req.params.id);\n      const popularPosts = await this.postService.getPopularPosts(categoryId);\n\n      res.status(201).json({ data: popularPosts });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public getRecentPosts = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n    try {\n      const categoryId = String(req.params.id);\n      const recentPosts = await this.postService.getRecentPosts(categoryId);\n\n      res.status(201).json({ data: recentPosts });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public getPostPictures = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n    try {\n      const postId = String(req.params.id);\n      const postPictures = await this.postService.getPostPictures(postId);\n\n      res.status(201).json({ data: postPictures });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public updateViews = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n    try {\n      const postId = String(req.params.id);\n      const updatedViews = await this.postService.UpdateViews(postId);\n\n      res.status(201).json({ updatedViews });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public likePost = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n    try {\n      const postId = String(req.params.id);\n      const likes = await this.postService.likePost(postId);\n\n      res.status(201).json({ like: likes });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public createPost = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n    try {\n      const postData = req.body;\n      const userId = String(req.params.id);\n      const createdPost = await this.postService.createPost(userId, postData);\n\n      res.status(201).json({ data: createdPost });\n    } catch (error) {\n      next(error);\n    }\n  };\n}\n\nexport default postController;\n"],"names":["postController","postService","getPopularPosts","req","res","next","categoryId","String","params","id","popularPosts","status","json","data","error","getRecentPosts","recentPosts","getPostPictures","postId","postPictures","updateViews","updatedViews","UpdateViews","likePost","likes","like","createPost","postData","body","userId","createdPost"],"mappings":";;;;+BA0EA;;aAAA;;oDAzEwB;;;;;;AAExB,IAAA,AAAMA,iBAAN,MAAMA;;aACGC,cAAc,IAAIA,oBAAW;aAE7BC,kBAAkB,OAAOC,KAAcC,KAAeC,OAAsC;YACjG,IAAI;gBACF,MAAMC,aAAaC,OAAOJ,IAAIK,MAAM,CAACC,EAAE;gBACvC,MAAMC,eAAe,MAAM,IAAI,CAACT,WAAW,CAACC,eAAe,CAACI;gBAE5DF,IAAIO,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMH;gBAAa;YAC5C,EAAE,OAAOI,OAAO;gBACdT,KAAKS;YACP;QACF;aAEOC,iBAAiB,OAAOZ,KAAcC,KAAeC,OAAsC;YAChG,IAAI;gBACF,MAAMC,aAAaC,OAAOJ,IAAIK,MAAM,CAACC,EAAE;gBACvC,MAAMO,cAAc,MAAM,IAAI,CAACf,WAAW,CAACc,cAAc,CAACT;gBAE1DF,IAAIO,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMG;gBAAY;YAC3C,EAAE,OAAOF,OAAO;gBACdT,KAAKS;YACP;QACF;aAEOG,kBAAkB,OAAOd,KAAcC,KAAeC,OAAsC;YACjG,IAAI;gBACF,MAAMa,SAASX,OAAOJ,IAAIK,MAAM,CAACC,EAAE;gBACnC,MAAMU,eAAe,MAAM,IAAI,CAAClB,WAAW,CAACgB,eAAe,CAACC;gBAE5Dd,IAAIO,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMM;gBAAa;YAC5C,EAAE,OAAOL,OAAO;gBACdT,KAAKS;YACP;QACF;aAEOM,cAAc,OAAOjB,KAAcC,KAAeC,OAAsC;YAC7F,IAAI;gBACF,MAAMa,SAASX,OAAOJ,IAAIK,MAAM,CAACC,EAAE;gBACnC,MAAMY,eAAe,MAAM,IAAI,CAACpB,WAAW,CAACqB,WAAW,CAACJ;gBAExDd,IAAIO,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAES;gBAAa;YACtC,EAAE,OAAOP,OAAO;gBACdT,KAAKS;YACP;QACF;aAEOS,WAAW,OAAOpB,KAAcC,KAAeC,OAAsC;YAC1F,IAAI;gBACF,MAAMa,SAASX,OAAOJ,IAAIK,MAAM,CAACC,EAAE;gBACnC,MAAMe,QAAQ,MAAM,IAAI,CAACvB,WAAW,CAACsB,QAAQ,CAACL;gBAE9Cd,IAAIO,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEa,MAAMD;gBAAM;YACrC,EAAE,OAAOV,OAAO;gBACdT,KAAKS;YACP;QACF;aAEOY,aAAa,OAAOvB,KAAcC,KAAeC,OAAsC;YAC5F,IAAI;gBACF,MAAMsB,WAAWxB,IAAIyB,IAAI;gBACzB,MAAMC,SAAStB,OAAOJ,IAAIK,MAAM,CAACC,EAAE;gBACnC,MAAMqB,cAAc,MAAM,IAAI,CAAC7B,WAAW,CAACyB,UAAU,CAACG,QAAQF;gBAE9DvB,IAAIO,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMiB;gBAAY;YAC3C,EAAE,OAAOhB,OAAO;gBACdT,KAAKS;YACP;QACF;;AACF;MAEA,WAAed"}