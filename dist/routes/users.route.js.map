{"version":3,"sources":["../../src/routes/users.route.ts"],"sourcesContent":["import { Router } from 'express';\r\nimport UsersController from '@controllers/users.controller';\r\nimport { Routes } from '@interfaces/routes.interface';\r\nimport multer from 'multer';\r\nimport fileMiddleware from '@/middlewares/fileValidation.middleware';\r\nimport { request } from 'http';\r\nimport authMiddleware from '@/middlewares/auth.middleware';\r\n\r\nclass UsersRoute implements Routes {\r\n  public path = '/users';\r\n  public router = Router();\r\n  public usersController = new UsersController();\r\n\r\n  constructor() {\r\n    this.initializeRoutes();\r\n  }\r\n\r\n  private initializeRoutes() {\r\n    this.router.get(`${this.path}/:id`,authMiddleware , this.usersController.getUserById);\r\n    this.router.get(`${this.path}`, authMiddleware, this.usersController.getUsers);\r\n    this.router.post(`${this.path}/buy/:id`, authMiddleware, this.usersController.buyPost);\r\n    this.router.post(`${this.path}/subscribe/:id`, authMiddleware, this.usersController.subscribe);\r\n    this.router.post(`${this.path}/unsubscribe/:id/:sellerId`, authMiddleware, this.usersController.cancelSubscription);\r\n    this.router.get(`${this.path}/confirmation/:token`, this.usersController.emailConfirming);\r\n    this.router.get(`${this.path}/:email`, authMiddleware, this.usersController.changePassword);\r\n    this.router.get(`${this.path}/plans/:id`,authMiddleware, this.usersController.getSellerPlans);\r\n    this.router.get(`${this.path}/ai/generatePictures`, this.usersController.generateAiPictures);\r\n    this.router.put(`${this.path}/:id`, authMiddleware, this.usersController.updateUser);\r\n    this.router.get(`${this.path}/verify/checkForSale/:userId/:postId/:plan`, this.usersController.checkForSale);\r\n    this.router.post(`${this.path}/devices/token/:id`, authMiddleware, this.usersController.uploadDeviceToken);\r\n    this.router.post(`${this.path}/desactivate/:id`, this.usersController.desactivateUser);\r\n    this.router.post(\r\n      `${this.path}/upload/avatar/:id`,\r\n      authMiddleware,\r\n      multer().single('avatar'),\r\n      fileMiddleware,\r\n      \r\n      this.usersController.uploadAvatar,\r\n    );\r\n  }\r\n}\r\n\r\nexport default UsersRoute;\r\n"],"names":["UsersRoute","initializeRoutes","router","get","path","authMiddleware","usersController","getUserById","getUsers","post","buyPost","subscribe","cancelSubscription","emailConfirming","changePassword","getSellerPlans","generateAiPictures","put","updateUser","checkForSale","uploadDeviceToken","desactivateUser","multer","single","fileMiddleware","uploadAvatar","constructor","Router","UsersController"],"mappings":"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"}